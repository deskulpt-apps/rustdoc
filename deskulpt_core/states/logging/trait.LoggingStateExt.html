<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Extension trait for operations related to logging."><title>LoggingStateExt in deskulpt_core::states::logging - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-77263533.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="deskulpt_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.95.0-nightly (d940e5684 2026-01-19)" data-channel="nightly" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-b897f86f.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-7bab91a1.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-ffcac47a.css"></noscript><link rel="icon" href="https://github.com/deskulpt-apps/Deskulpt/raw/main/public/deskulpt.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">LoggingStateExt</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../deskulpt_core/index.html"><img src="https://github.com/deskulpt-apps/Deskulpt/raw/main/public/deskulpt.svg" alt="logo"></a><h2><a href="../../../deskulpt_core/index.html">deskulpt_<wbr>core</a><span class="version">0.3.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Logging<wbr>State<wbr>Ext</a></h2><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.clear_logs" title="clear_logs">clear_logs</a></li><li><a href="#method.collect_logs" title="collect_logs">collect_logs</a></li><li><a href="#method.manage_logging" title="manage_logging">manage_logging</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-LoggingStateExt%3CR%3E-for-App%3CR%3E" title="App&#60;R&#62;">App&#60;R&#62;</a></li><li><a href="#impl-LoggingStateExt%3CR%3E-for-AppHandle%3CR%3E" title="AppHandle&#60;R&#62;">AppHandle&#60;R&#62;</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In deskulpt_<wbr>core::<wbr>states::<wbr>logging</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">deskulpt_core</a>::<wbr><a href="../index.html">states</a>::<wbr><a href="index.html">logging</a></div><h1>Trait <span class="trait">Logging<wbr>State<wbr>Ext</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/deskulpt_core/states/logging.rs.html#27-137">Source</a> </span></div><pre class="rust item-decl"><code>pub trait LoggingStateExt&lt;R: <a class="trait" href="https://docs.rs/tauri/2.9.5/tauri/trait.Runtime.html" title="trait tauri::Runtime">Runtime</a>&gt;: <a class="trait" href="https://docs.rs/tauri/2.9.5/tauri/trait.Manager.html" title="trait tauri::Manager">Manager</a>&lt;R&gt; + <a class="trait" href="../../path/trait.PathExt.html" title="trait deskulpt_core::path::PathExt">PathExt</a>&lt;R&gt; {
    // Provided methods
    fn <a href="#method.manage_logging" class="fn">manage_logging</a>(&amp;self) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.100/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.collect_logs" class="fn">collect_logs</a>(&amp;self) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.100/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.clear_logs" class="fn">clear_logs</a>(&amp;self) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.100/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Extension trait for operations related to logging.</p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.manage_logging" class="method"><a class="src rightside" href="../../../src/deskulpt_core/states/logging.rs.html#33-72">Source</a><h4 class="code-header">fn <a href="#method.manage_logging" class="fn">manage_logging</a>(&amp;self) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.100/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Initialize state management for logging.</p>
<p>This will set up structured logging in newline-delimited JSON format
with daily rotation and maximum <a href="constant.MAX_LOG_FILES.html" title="constant deskulpt_core::states::logging::MAX_LOG_FILES"><code>MAX_LOG_FILES</code></a> log files retained.
A panic hook is also set up to log uncaught panics.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.collect_logs" class="method"><a class="src rightside" href="../../../src/deskulpt_core/states/logging.rs.html#81-99">Source</a><h4 class="code-header">fn <a href="#method.collect_logs" class="fn">collect_logs</a>(&amp;self) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.100/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Discover log files and return their paths by newest first.</p>
<p>This looks for log files in the logs directory with names matching the
pattern <code>deskulpt.*.log</code>, where <code>*</code> should be a timestamp though this is
not verified here. The returned list is sorted by filename in descending
order, which should correspond to most recent first if the <code>*</code>s are
indeed timestamps.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clear_logs" class="method"><a class="src rightside" href="../../../src/deskulpt_core/states/logging.rs.html#111-136">Source</a><h4 class="code-header">fn <a href="#method.clear_logs" class="fn">clear_logs</a>(&amp;self) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.100/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;</h4></section></summary><div class="docblock"><p>Clear all log files and return the freed disk space in bytes.</p>
<p>The latest log file is truncated instead of deleted to ensure that
logging can continue without interruption. All older log files are
deleted. The total freed disk space is returned.</p>
<p>Note that failure to delete or truncate a log file will not result in an
error, but will not contribute to the computed freed space. Failure to
discover the log files in the first place (before actual clearing
begins), however, willl result in an error.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="foreign-impls" class="section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><section id="impl-LoggingStateExt%3CR%3E-for-App%3CR%3E" class="impl"><a class="src rightside" href="../../../src/deskulpt_core/states/logging.rs.html#139">Source</a><a href="#impl-LoggingStateExt%3CR%3E-for-App%3CR%3E" class="anchor">§</a><h3 class="code-header">impl&lt;R: <a class="trait" href="https://docs.rs/tauri/2.9.5/tauri/trait.Runtime.html" title="trait tauri::Runtime">Runtime</a>&gt; <a class="trait" href="trait.LoggingStateExt.html" title="trait deskulpt_core::states::logging::LoggingStateExt">LoggingStateExt</a>&lt;R&gt; for <a class="struct" href="https://docs.rs/tauri/2.9.5/tauri/app/struct.App.html" title="struct tauri::app::App">App</a>&lt;R&gt;</h3></section><section id="impl-LoggingStateExt%3CR%3E-for-AppHandle%3CR%3E" class="impl"><a class="src rightside" href="../../../src/deskulpt_core/states/logging.rs.html#140">Source</a><a href="#impl-LoggingStateExt%3CR%3E-for-AppHandle%3CR%3E" class="anchor">§</a><h3 class="code-header">impl&lt;R: <a class="trait" href="https://docs.rs/tauri/2.9.5/tauri/trait.Runtime.html" title="trait tauri::Runtime">Runtime</a>&gt; <a class="trait" href="trait.LoggingStateExt.html" title="trait deskulpt_core::states::logging::LoggingStateExt">LoggingStateExt</a>&lt;R&gt; for <a class="struct" href="https://docs.rs/tauri/2.9.5/tauri/app/struct.AppHandle.html" title="struct tauri::app::AppHandle">AppHandle</a>&lt;R&gt;</h3></section><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../../trait.impl/deskulpt_core/states/logging/trait.LoggingStateExt.js" data-ignore-extern-crates="tauri" async></script></section></div></main></body></html>